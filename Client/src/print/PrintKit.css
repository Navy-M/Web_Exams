/* ========= Global Print CSS (file: src/print/print.css) ========= */

:root{
  --ink:#0f172a; --muted:#64748b; --sub:#475569; --Lmuted:#14253d;
  --line:#e5e7eb; --line-2:#d9e1ea; --soft:#f8fafc; --soft-2:#eef2f7;
  --chip:#f1f5f9; --chip-b:#e2e8f0; --brand:#2563eb; --accent:#22c55e;
  --grad-a:#38bdf8; --grad-b:#22c55e;
}

html { -webkit-print-color-adjust: exact; print-color-adjust: exact; }
body {
  direction: rtl; background:#fff; color:var(--ink);
  font-family:"Vazirmatn",-apple-system,Segoe UI,Roboto,Arial,sans-serif;
  line-height:1.7; font-size:12.25pt; letter-spacing:.1px;
  counter-reset: page; /* for .footer .pageno */
  
}

/* Center/contain a print page inside #print-root and hide everything else when printing */
#print-root { display: none; }

@media print {
  body * { visibility: hidden !important; }
  #print-root, #print-root * { visibility: visible !important; }
  #print-root {
    display: block !important;
    position: static !important;
    inset: auto !important;
  }
  @page { size: A4; margin: 14mm; }
}

/* Layout */
.container { display:grid; gap:16px; max-width:100%; padding:16px 0; justify-content:center; }
.card { background:#fff; border:1px solid var(--line); border-radius:14px; padding:16px; }
.muted { color:var(--muted); }
.full { grid-column:1 / -1; }
.grid-3 { display:grid; grid-template-columns: repeat(3, 1fr); gap:12px 20px; }
.avoid-break { break-inside: avoid; page-break-inside: avoid; }

/* Compact analysis (بدون حذف نمودارها) */
.analysis-compact{ --gap:10px; }
.analysis-compact *{ box-sizing:border-box; }
.analysis-compact ul, .analysis-compact ol{
  list-style:none; padding:0; margin:8px 0 0 0;
  display:grid; grid-template-columns:repeat(2,minmax(0,1fr)); gap:var(--gap);
}
@media screen and (min-width: 992px), print {
  .analysis-compact ul, .analysis-compact ol{ grid-template-columns:repeat(3,minmax(0,1fr)); }
}
.analysis-compact li{
  background:#fff; border:1px solid var(--line); border-radius:12px;
  padding:10px 12px; color:var(--ink); line-height:1.5; min-height:42px;
  display:flex; align-items:center; justify-content:space-between; gap:8px;
}
.analysis-compact li .k{ color:#334155; font-weight:700; }
.analysis-compact li .v{ font-variant-numeric:tabular-nums; color:#0b1324; font-weight:700; }
.analysis-compact h4, .analysis-compact h5{ margin:10px 0 6px; font-weight:800; }
.analysis-compact p{ margin:6px 0; color:var(--ink); }
.analysis-compact table{
  width:100%; border-collapse:separate; border-spacing:0;
  border:1px solid var(--line-2); border-radius:12px; overflow:hidden; background:#fff;
  font-size:11.5pt; margin-top:8px;
}
.analysis-compact thead th{
  background:var(--soft-2); color:var(--ink); text-align:center;
  padding:8px 10px; border-bottom:1px solid var(--line-2); font-weight:900;
}
.analysis-compact tbody td{ padding:8px 10px; border-bottom:1px solid #edf2f7; line-height:1.55; }
.analysis-compact tbody tr:nth-child(even) td { background:#fafbfc; }
.analysis-compact tbody tr:last-child td { border-bottom:none; }
.analysis-compact .num{ font-variant-numeric:tabular-nums; text-align:center; }
.analysis-compact .chip{
  display:inline-block; padding:2px 8px; border-radius:999px;
  background:#f1f5f9; border:1px solid #e2e8f0; color:#0f172a; font-weight:700; font-size:10.5pt;
}
.analysis-compact .card-row{ display:grid; gap:var(--gap); grid-template-columns:repeat(2,minmax(0,1fr)); }
@media screen and (min-width: 992px), print { .analysis-compact .card-row{ grid-template-columns:repeat(3,minmax(0,1fr)); } }
.analysis-compact .mini-card{ background:#fff; border:1px solid var(--line); border-radius:12px; padding:10px 12px; }
.analysis-compact .mini-card .mini-title{ font-weight:800; margin:0 0 6px 0; color:#0f172a; }

/* Header */
.doc-header .title { margin:0 0 4px; font-size:22pt; font-weight:800; letter-spacing:-.2px; }
.doc-header .subtitle { margin:0; font-weight:700; font-size:13.25pt; }
.meta { display:flex; gap:12px; align-items:center; color:var(--sub); font-size:11.25pt; }
.meta .dot{ width:4px; height:4px; border-radius:50%; background:#cbd5e1; display:inline-block; }

/* Section title */
.section-title{ display:flex; align-items:center; gap:10px; margin:0 0 10px; }
.section-title .pill{
  background:var(--chip); color:var(--ink); border:1px solid var(--chip-b);
  border-radius:999px; padding:4px 12px; font-size:10.75pt; font-weight:700;
}
.section-title h3{ margin:0; font-size:15pt; font-weight:800; letter-spacing:-.1px; }

/* KV rows */
.kv{ display:flex; gap:6px 8px; flex-wrap:wrap; }
.kv .k{ color:#334155; font-weight:800; }
.kv .v{ color:var(--ink); }

/* Table */
.table{
  width:100%; border-collapse:separate; border-spacing:0; border:1px solid var(--line-2);
  border-radius:14px; overflow:hidden; background:#fff; font-size:12pt;
}
.table thead th{ background:var(--soft-2); color:var(--ink); text-align:center;
  padding:10px 12px; border-bottom:1px solid var(--line-2); font-weight:900; }
.table tbody td{ padding:10px 12px; border-bottom:1px solid #edf2f7; line-height:1.6; }
.table tbody tr:nth-child(even) td{ background:#fafbfc; }
.table tbody tr:last-child td{ border-bottom:none; }
.table caption{ caption-side:top; text-align:right; padding:6px 0 10px; color:var(--sub); font-size:11pt; }
.table .num{ font-variant-numeric:tabular-nums; text-align:center; }
.table .t-left{ text-align:right; } .table .t-right{ text-align:left; }
.table tbody tr{ break-inside:avoid; page-break-inside:avoid; }
.table.jobs colgroup col:nth-child(1){ width:48px; }
.table.jobs colgroup col:nth-child(2){ width:auto; }
.table.jobs colgroup col:nth-child(3){ width:170px; }
.table.jobs colgroup col:nth-child(4){ width:50%; }

/* Progress */
.cell-bar{ position:relative; min-width:140px; display:flex; align-items:center; gap:10px; }
.cell-bar .val{ font-variant-numeric:tabular-nums; font-weight:800; min-width:44px; text-align:center; color:#0b1324; }
.cell-bar .bar{
  --w:0%; position:relative; flex:1 1 auto; height:9px; border-radius:999px;
  background:#e2e8f0; box-shadow:inset 0 0 0 1px rgba(0,0,0,.025);
}
.cell-bar .bar::after{
  content:""; position:absolute; inset:0; width:var(--w); height:100%;
  background:linear-gradient(90deg,var(--grad-a),var(--grad-b)); border-radius:999px;
}

/* Badges & notes */
.badge{ display:inline-block; padding:3px 10px; border-radius:999px; background:#ecfeff; color:#155e75; border:1px solid #cffafe; font-weight:800; font-size:10.75pt; }
.note{ background:var(--soft); border:1px dashed #cbd5e1; color:#334155; border-radius:12px; padding:12px 14px; font-size:11pt; }

/* Media (charts & images) */
.card img, .card canvas, .card svg{ display:block; max-width:100%; height:auto; margin:0 auto; }
.chart-hint{ margin-top:8px; color:var(--muted); font-size:10.75pt; }
.chart-wrap{ min-height:280px; }
.chart-wrap canvas{ width:100% !important; height:280px !important; display:block; }

/* Footer */
.footer{ position:fixed; left:0; right:0; bottom:8mm; text-align:center; color:#94a3b8; font-size:10.75pt; }
.footer .pageno::after{ counter-increment:page; content:counter(page); }

/* Utilities */
.mt-8{ margin-top:8px } .mt-12{ margin-top:12px } .mb-8{ margin-bottom:8px } .mb-12{ margin-bottom:12px }

/* Sanitize interactive */
.print-sanitize button, .print-sanitize .btn, .print-sanitize [role="button"],
.print-sanitize .ant-btn, .print-sanitize .ant-space, .print-sanitize .ant-tooltip,
.print-sanitize a[data-print="hide"], .print-sanitize .action-bar, .print-sanitize .controls,
.print-sanitize .toolbar, .print-sanitize .download, .print-sanitize .csv,
.print-sanitize .print, .print-sanitize .share, .print-sanitize input,
.print-sanitize select, .print-sanitize textarea { display:none !important; }
.print-sanitize a{ color:inherit; text-decoration:none; }
.print-sanitize .recharts-responsive-container{ min-height:260px; }

.ignorePrint{ display: none !important; }

/* Layout: center on page & no overflow */
.print-sanitize, .print-sanitize * { box-sizing: border-box; }
.page{
  width: 182mm; max-width: 100%;
  margin-left: auto; margin-right: auto;
  margin-top: 0; margin-bottom: 0;
  overflow: hidden;
}
.container{ justify-items: stretch; }
.card{ max-width: 100%; overflow-wrap: anywhere; }
.card img, .card canvas, .card svg{ display:block; max-width:100%; height:auto; }
.chart-wrap{
  width:100%; max-width:100%; min-height:280px;
  margin-left:auto; margin-right:auto; overflow:hidden;
}
.chart-wrap canvas{ width:100% !important; height:280px !important; display:block; }

/* Screen polish */
@media screen {
  body { background:#f6f7fb; }
  .page { box-shadow:0 12px 40px rgba(2,6,23,.06), 0 2px 10px rgba(2,6,23,.04); border-radius:16px; }
  .card { border-color:#e6ebf2; }
}
